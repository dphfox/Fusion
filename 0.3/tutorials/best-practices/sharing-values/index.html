
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://elttob.uk/Fusion/0.3/tutorials/best-practices/sharing-values/">
      
      <link rel="icon" href="../../../assets/logo-dark.svg">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-8.2.13">
    
    
      
        <title>Sharing Values - Fusion</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.e411adfe.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.cc9b2e1e.min.css">
        
      
    
    
    
	<!-- Load fonts from Google -->
	
		
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
		<link
			rel="stylesheet"
			href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:ital,wght@0,400;0,600;0,700;1,400;1,600;1,700&display=fallback"
		/>
		<link
			rel="stylesheet"
			href="https://fonts.googleapis.com/css?family=JetBrains+Mono&display=fallback"
		/>
		<style>
			:root {
				--md-text-font: "Plus Jakarta Sans";
				--md-code-font: "JetBrains Mono";
			}
		</style>
	

    
      <link rel="stylesheet" href="../../../assets/theme/fusiondoc.css">
    
      <link rel="stylesheet" href="../../../assets/theme/colours.css">
    
      <link rel="stylesheet" href="../../../assets/theme/code.css">
    
      <link rel="stylesheet" href="../../../assets/theme/paragraph.css">
    
      <link rel="stylesheet" href="../../../assets/theme/page.css">
    
      <link rel="stylesheet" href="../../../assets/theme/admonition.css">
    
      <link rel="stylesheet" href="../../../assets/theme/404.css">
    
      <link rel="stylesheet" href="../../../assets/theme/api-reference.css">
    
      <link rel="stylesheet" href="../../../assets/theme/dev-tools.css">
    
    <script>__md_scope=new URL("../../..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="fusiondoc-dark" data-md-color-primary="" data-md-color-accent="">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#globals" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-component="outdated" hidden>
        <aside class="md-banner md-banner--warning">
          
        </aside>
      </div>
    
    
      <!-- Determine class according to configuration -->



<!-- Header -->
<header class="md-header" data-md-component="header">
  <nav
    class="md-header__inner md-grid"
    aria-label="Header"
  >

    <!-- Link to home -->
    <a
      href="../../.."
      title="Fusion"
      class="md-header__button md-logo"
      aria-label="Fusion"
      data-md-component="logo"
    >
      <!-- Logo -->

  <img src="../../../assets/logo-light.svg" alt="logo" class="fusiondoc-light-theme-only" />
  <img src="../../../assets/logo-dark.svg" alt="logo" class="fusiondoc-dark-theme-only" />

    </a>

    <!-- Button to open drawer -->
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M4 7a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm4.75-1.5a.75.75 0 0 0 0 1.5h11.5a.75.75 0 0 0 0-1.5H8.75zm0 6a.75.75 0 0 0 0 1.5h11.5a.75.75 0 0 0 0-1.5H8.75zm0 6a.75.75 0 0 0 0 1.5h11.5a.75.75 0 0 0 0-1.5H8.75zM5 12a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm-1 7a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"/></svg>
    </label>

    <!-- Header title -->
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            <!-- Fusion -->
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Sharing Values
            
          </span>
        </div>
      </div>
    </div>

    <!-- Color palette -->
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          <input
            class="md-option"
            data-md-color-media="(prefers-color-scheme: dark)"
            data-md-color-scheme="fusiondoc-dark"
            data-md-color-primary=""
            data-md-color-accent=""
            
              aria-label=""
            
            type="radio"
            name="__palette"
            id="__palette_1"
          />
          
            <label
              class="md-header__button md-icon"
              title=""
              for="__palette_2"
              hidden
            >
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M12 17.5a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11zm0 1.5a7 7 0 1 0 0-14 7 7 0 0 0 0 14zm12-7a.75.75 0 0 1-.75.75h-2.5a.75.75 0 0 1 0-1.5h2.5A.75.75 0 0 1 24 12zM4 12a.75.75 0 0 1-.75.75H.75a.75.75 0 0 1 0-1.5h2.5A.75.75 0 0 1 4 12zm16.485-8.485a.75.75 0 0 1 0 1.06l-1.768 1.768a.75.75 0 0 1-1.06-1.06l1.767-1.768a.75.75 0 0 1 1.061 0zM6.343 17.657a.75.75 0 0 1 0 1.06l-1.768 1.768a.75.75 0 1 1-1.06-1.06l1.767-1.768a.75.75 0 0 1 1.061 0zM12 0a.75.75 0 0 1 .75.75v2.5a.75.75 0 0 1-1.5 0V.75A.75.75 0 0 1 12 0zm0 20a.75.75 0 0 1 .75.75v2.5a.75.75 0 0 1-1.5 0v-2.5A.75.75 0 0 1 12 20zM3.515 3.515a.75.75 0 0 1 1.06 0l1.768 1.768a.75.75 0 1 1-1.06 1.06L3.515 4.575a.75.75 0 0 1 0-1.06zm14.142 14.142a.75.75 0 0 1 1.06 0l1.768 1.768a.75.75 0 0 1-1.06 1.06l-1.768-1.767a.75.75 0 0 1 0-1.061z"/></svg>
            </label>
          
        
          
          
          <input
            class="md-option"
            data-md-color-media="(prefers-color-scheme: light)"
            data-md-color-scheme="fusiondoc-light"
            data-md-color-primary=""
            data-md-color-accent=""
            
              aria-label=""
            
            type="radio"
            name="__palette"
            id="__palette_2"
          />
          
            <label
              class="md-header__button md-icon"
              title=""
              for="__palette_1"
              hidden
            >
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M16.5 6c0 5.799-4.701 10.5-10.5 10.5-.426 0-.847-.026-1.26-.075A8.5 8.5 0 1 0 16.425 4.74c.05.413.075.833.075 1.259zm-1.732-2.04A9.08 9.08 0 0 1 14.999 6a9 9 0 0 1-11.04 8.768l-.004-.002a9.367 9.367 0 0 1-.78-.218c-.393-.13-.8.21-.67.602a9.938 9.938 0 0 0 .329.855l.004.01A10.002 10.002 0 0 0 12 22a10.002 10.002 0 0 0 4.015-19.16l-.01-.005a9.745 9.745 0 0 0-.855-.328c-.392-.13-.732.276-.602.67a8.934 8.934 0 0 1 .218.779l.002.005z"/></svg>
            </label>
          
        
      </form>
    

    <!-- Site language selector -->
    

    <!-- Button to open search modal -->
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M14.53 15.59a8.25 8.25 0 1 1 1.06-1.06l5.69 5.69a.75.75 0 1 1-1.06 1.06l-5.69-5.69zM2.5 9.25a6.75 6.75 0 1 1 11.74 4.547.746.746 0 0 0-.443.442A6.75 6.75 0 0 1 2.5 9.25z"/></svg>
      </label>

      <!-- Search interface -->
      <!-- Search interface -->
<div class="md-search" data-md-component="search" role="dialog">
	<label class="md-search__overlay" for="__search"></label>
	<div class="md-search__inner" role="search">
		<form class="md-search__form" name="search">

			<!-- Search input -->
			<input type="text" class="md-search__input" name="query" aria-label="Search"
				placeholder="Search" autocapitalize="off" autocorrect="off"
				autocomplete="off" spellcheck="false" data-md-component="search-query" required />

			<!-- Button to open search -->
			<label class="md-search__icon md-icon" for="__search">
				<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M14.53 15.59a8.25 8.25 0 1 1 1.06-1.06l5.69 5.69a.75.75 0 1 1-1.06 1.06l-5.69-5.69zM2.5 9.25a6.75 6.75 0 1 1 11.74 4.547.746.746 0 0 0-.443.442A6.75 6.75 0 0 1 2.5 9.25z"/></svg>
				<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M15.28 5.22a.75.75 0 0 0-1.06 0l-6.25 6.25a.75.75 0 0 0 0 1.06l6.25 6.25a.75.75 0 1 0 1.06-1.06L9.56 12l5.72-5.72a.75.75 0 0 0 0-1.06z"/></svg>
			</label>

			<!-- Search options -->
			<nav class="md-search__options" aria-label="Search">

				<!-- Button to share search -->
				

				<!-- Button to reset search -->
				<button type="reset" class="md-search__icon md-icon" aria-label="Clear"
					tabindex="-1">
					<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M5.72 5.72a.75.75 0 0 1 1.06 0L12 10.94l5.22-5.22a.75.75 0 1 1 1.06 1.06L13.06 12l5.22 5.22a.75.75 0 1 1-1.06 1.06L12 13.06l-5.22 5.22a.75.75 0 0 1-1.06-1.06L10.94 12 5.72 6.78a.75.75 0 0 1 0-1.06z"/></svg>
				</button>
			</nav>

			<!-- Search suggestions -->
			
			<div class="md-search__suggest" data-md-component="search-suggest"></div>
			
		</form>
		<div class="md-search__output">
			<div class="md-search__scrollwrap" data-md-scrollfix>

				<!-- Search results -->
				<div class="md-search-result" data-md-component="search-result">
					<div class="md-search-result__meta">
						Initializing search
					</div>
					<ol class="md-search-result__list"></ol>
				</div>
			</div>
		</div>
	</div>
</div>
    

    <!-- Repository information -->
    
      <div class="md-header__source">
        <a href="https://github.com/dphfox/Fusion" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"/></svg>
  </div>
  <div class="md-source__repository">
    dphfox/Fusion
  </div>
</a>
      </div>
    
  </nav>

  <!-- Navigation tabs (sticky) -->
  
</header>
    
    <div class="md-container" data-md-component="container">
      
	
	

      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../../.." class="md-tabs__link">
      Home
    </a>
  </li>

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../" class="md-tabs__link md-tabs__link--active">
        Tutorials
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../examples/" class="md-tabs__link">
        Examples
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../api-reference/" class="md-tabs__link">
        API Reference
      </a>
    </li>
  

      
        
  
  


  <li class="md-tabs__item">
    <a href="https://elttob.itch.io/" class="md-tabs__link">
      Made with&emsp13;&#x2764;&emsp13;by Studio Elttob
    </a>
  </li>

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Fusion" class="md-nav__button md-logo" aria-label="Fusion" data-md-component="logo">
      <!-- Logo -->

  <img src="../../../assets/logo-light.svg" alt="logo" class="fusiondoc-light-theme-only" />
  <img src="../../../assets/logo-dark.svg" alt="logo" class="fusiondoc-dark-theme-only" />

    </a>
    Fusion
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/dphfox/Fusion" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"/></svg>
  </div>
  <div class="md-source__repository">
    dphfox/Fusion
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" checked>
      
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../">Tutorials</a>
          
            <label for="__nav_2">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Tutorials" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Tutorials
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../get-started/installing-fusion/" class="md-nav__link">
        Installing Fusion
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../get-started/developer-tools/" class="md-nav__link">
        Developer Tools
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../get-started/getting-help/" class="md-nav__link">
        Getting Help
      </a>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_5" type="checkbox" id="__nav_2_5" >
      
      
      
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_2_5">
          Fundamentals
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Fundamentals" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_5">
          <span class="md-nav__icon md-icon"></span>
          Fundamentals
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../fundamentals/scopes/" class="md-nav__link">
        Scopes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../fundamentals/values/" class="md-nav__link">
        Values
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../fundamentals/observers/" class="md-nav__link">
        Observers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../fundamentals/computeds/" class="md-nav__link">
        Computeds
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_6" type="checkbox" id="__nav_2_6" >
      
      
      
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_2_6">
          Tables
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Tables" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_6">
          <span class="md-nav__icon md-icon"></span>
          Tables
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../tables/forvalues/" class="md-nav__link">
        ForValues
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../tables/forkeys/" class="md-nav__link">
        ForKeys
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../tables/forpairs/" class="md-nav__link">
        ForPairs
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_7" type="checkbox" id="__nav_2_7" >
      
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_2_7">
          Animation
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Animation" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_7">
          <span class="md-nav__icon md-icon"></span>
          Animation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../animation/tweens/" class="md-nav__link">
        Tweens
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../animation/springs/" class="md-nav__link">
        Springs
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_8" type="checkbox" id="__nav_2_8" >
      
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_2_8">
          Roblox
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Roblox" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_8">
          <span class="md-nav__icon md-icon"></span>
          Roblox
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../roblox/hydration/" class="md-nav__link">
        Hydration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../roblox/new-instances/" class="md-nav__link">
        New Instances
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../roblox/parenting/" class="md-nav__link">
        Parenting
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../roblox/events/" class="md-nav__link">
        Events
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../roblox/change-events/" class="md-nav__link">
        Change Events
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../roblox/outputs/" class="md-nav__link">
        Outputs
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
    
  
  
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_9" type="checkbox" id="__nav_2_9" checked>
      
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_2_9">
          Best Practices
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Best Practices" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_9">
          <span class="md-nav__icon md-icon"></span>
          Best Practices
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../components/" class="md-nav__link">
        Components
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../instance-handling/" class="md-nav__link">
        Instance Handling
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../references/" class="md-nav__link">
        References
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../callbacks/" class="md-nav__link">
        Callbacks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../state/" class="md-nav__link">
        State
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Sharing Values
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Sharing Values
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#globals" class="md-nav__link">
    Globals
  </a>
  
    <nav class="md-nav" aria-label="Globals">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hidden-dependencies" class="md-nav__link">
    Hidden dependencies
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hard-to-locate-writes" class="md-nav__link">
    Hard-to-locate writes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memory-management" class="md-nav__link">
    Memory management
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#non-replaceable-for-testing" class="md-nav__link">
    Non-replaceable for testing
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#contextuals" class="md-nav__link">
    Contextuals
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../error-safety/" class="md-nav__link">
        Error Safety
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../optimisation/" class="md-nav__link">
        Optimisation
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
        
          
            
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../examples/">Examples</a>
          
            <label for="__nav_3">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Examples" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Examples
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_2" type="checkbox" id="__nav_3_2" >
      
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../examples/cookbook/">Cookbook</a>
          
            <label for="__nav_3_2">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Cookbook" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_2">
          <span class="md-nav__icon md-icon"></span>
          Cookbook
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../examples/cookbook/player-list/" class="md-nav__link">
        Player List
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../examples/cookbook/animated-computed/" class="md-nav__link">
        Animated Computed
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../examples/cookbook/fetch-data-from-server/" class="md-nav__link">
        Fetch Data From Server
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../examples/cookbook/light-and-dark-theme/" class="md-nav__link">
        Light & Dark Theme
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../examples/cookbook/button-component/" class="md-nav__link">
        Button Component
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../examples/cookbook/loading-spinner/" class="md-nav__link">
        Loading Spinner
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../examples/cookbook/drag-and-drop/" class="md-nav__link">
        Drag & Drop
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../api-reference/">API Reference</a>
          
            <label for="__nav_4">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="API Reference" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          API Reference
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_2" type="checkbox" id="__nav_4_2" >
      
      
      
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4_2">
          General
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="General" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_2">
          <span class="md-nav__icon md-icon"></span>
          General
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../api-reference/general/errors/" class="md-nav__link">
        Errors
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_2_2" type="checkbox" id="__nav_4_2_2" >
      
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4_2_2">
          Types
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Types" data-md-level="3">
        <label class="md-nav__title" for="__nav_4_2_2">
          <span class="md-nav__icon md-icon"></span>
          Types
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../api-reference/general/types/contextual/" class="md-nav__link">
        Contextual
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../api-reference/general/types/version/" class="md-nav__link">
        Version
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_2_3" type="checkbox" id="__nav_4_2_3" >
      
      
      
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4_2_3">
          Members
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Members" data-md-level="3">
        <label class="md-nav__title" for="__nav_4_2_3">
          <span class="md-nav__icon md-icon"></span>
          Members
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../api-reference/general/members/contextual/" class="md-nav__link">
        Contextual
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../api-reference/general/members/safe/" class="md-nav__link">
        Safe
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../api-reference/general/members/version/" class="md-nav__link">
        version
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_3" type="checkbox" id="__nav_4_3" >
      
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4_3">
          Memory
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Memory" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_3">
          <span class="md-nav__icon md-icon"></span>
          Memory
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_3_1" type="checkbox" id="__nav_4_3_1" >
      
      
      
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4_3_1">
          Types
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Types" data-md-level="3">
        <label class="md-nav__title" for="__nav_4_3_1">
          <span class="md-nav__icon md-icon"></span>
          Types
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../api-reference/memory/types/scope/" class="md-nav__link">
        Scope
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../api-reference/memory/types/scopedobject/" class="md-nav__link">
        ScopedObject
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../api-reference/memory/types/task/" class="md-nav__link">
        Task
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_3_2" type="checkbox" id="__nav_4_3_2" >
      
      
      
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4_3_2">
          Members
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Members" data-md-level="3">
        <label class="md-nav__title" for="__nav_4_3_2">
          <span class="md-nav__icon md-icon"></span>
          Members
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../api-reference/memory/members/derivescope/" class="md-nav__link">
        deriveScope
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../api-reference/memory/members/docleanup/" class="md-nav__link">
        doCleanup
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../api-reference/memory/members/scoped/" class="md-nav__link">
        scoped
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_4" type="checkbox" id="__nav_4_4" >
      
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4_4">
          Graph
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Graph" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_4">
          <span class="md-nav__icon md-icon"></span>
          Graph
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_4_1" type="checkbox" id="__nav_4_4_1" >
      
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4_4_1">
          Types
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Types" data-md-level="3">
        <label class="md-nav__title" for="__nav_4_4_1">
          <span class="md-nav__icon md-icon"></span>
          Types
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../api-reference/graph/types/graphobject/" class="md-nav__link">
        GraphObject
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../api-reference/graph/types/observer/" class="md-nav__link">
        Observer
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_4_2" type="checkbox" id="__nav_4_4_2" >
      
      
      
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4_4_2">
          Members
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Members" data-md-level="3">
        <label class="md-nav__title" for="__nav_4_4_2">
          <span class="md-nav__icon md-icon"></span>
          Members
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../api-reference/graph/members/observer/" class="md-nav__link">
        Observer
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_5" type="checkbox" id="__nav_4_5" >
      
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4_5">
          State
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="State" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_5">
          <span class="md-nav__icon md-icon"></span>
          State
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_5_1" type="checkbox" id="__nav_4_5_1" >
      
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4_5_1">
          Types
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Types" data-md-level="3">
        <label class="md-nav__title" for="__nav_4_5_1">
          <span class="md-nav__icon md-icon"></span>
          Types
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../api-reference/state/types/usedas/" class="md-nav__link">
        UsedAs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../api-reference/state/types/computed/" class="md-nav__link">
        Computed
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../api-reference/state/types/for/" class="md-nav__link">
        For
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../api-reference/state/types/stateobject/" class="md-nav__link">
        StateObject
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../api-reference/state/types/use/" class="md-nav__link">
        Use
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../api-reference/state/types/value/" class="md-nav__link">
        Value
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_5_2" type="checkbox" id="__nav_4_5_2" >
      
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4_5_2">
          Members
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Members" data-md-level="3">
        <label class="md-nav__title" for="__nav_4_5_2">
          <span class="md-nav__icon md-icon"></span>
          Members
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../api-reference/state/members/computed/" class="md-nav__link">
        Computed
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../api-reference/state/members/forkeys/" class="md-nav__link">
        ForKeys
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../api-reference/state/members/forpairs/" class="md-nav__link">
        ForPairs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../api-reference/state/members/forvalues/" class="md-nav__link">
        ForValues
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../api-reference/state/members/peek/" class="md-nav__link">
        peek
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../api-reference/state/members/value/" class="md-nav__link">
        Value
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_6" type="checkbox" id="__nav_4_6" >
      
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4_6">
          Roblox
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Roblox" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_6">
          <span class="md-nav__icon md-icon"></span>
          Roblox
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_6_1" type="checkbox" id="__nav_4_6_1" >
      
      
      
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4_6_1">
          Types
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Types" data-md-level="3">
        <label class="md-nav__title" for="__nav_4_6_1">
          <span class="md-nav__icon md-icon"></span>
          Types
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../api-reference/roblox/types/child/" class="md-nav__link">
        Child
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../api-reference/roblox/types/propertytable/" class="md-nav__link">
        PropertyTable
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../api-reference/roblox/types/specialkey/" class="md-nav__link">
        SpecialKey
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_6_2" type="checkbox" id="__nav_4_6_2" >
      
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4_6_2">
          Members
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Members" data-md-level="3">
        <label class="md-nav__title" for="__nav_4_6_2">
          <span class="md-nav__icon md-icon"></span>
          Members
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../api-reference/roblox/members/attribute/" class="md-nav__link">
        Attribute
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../api-reference/roblox/members/attributechange/" class="md-nav__link">
        AttributeChange
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../api-reference/roblox/members/attributeout/" class="md-nav__link">
        AttributeOut
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../api-reference/roblox/members/child/" class="md-nav__link">
        Child
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../api-reference/roblox/members/children/" class="md-nav__link">
        Children
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../api-reference/roblox/members/hydrate/" class="md-nav__link">
        Hydrate
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../api-reference/roblox/members/new/" class="md-nav__link">
        New
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../api-reference/roblox/members/onchange/" class="md-nav__link">
        OnChange
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../api-reference/roblox/members/onevent/" class="md-nav__link">
        OnEvent
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../api-reference/roblox/members/out/" class="md-nav__link">
        Out
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_7" type="checkbox" id="__nav_4_7" >
      
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4_7">
          Animation
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Animation" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_7">
          <span class="md-nav__icon md-icon"></span>
          Animation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_7_1" type="checkbox" id="__nav_4_7_1" >
      
      
      
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4_7_1">
          Types
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Types" data-md-level="3">
        <label class="md-nav__title" for="__nav_4_7_1">
          <span class="md-nav__icon md-icon"></span>
          Types
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../api-reference/animation/types/animatable/" class="md-nav__link">
        Animatable
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../api-reference/animation/types/spring/" class="md-nav__link">
        Spring
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../api-reference/animation/types/tween/" class="md-nav__link">
        Tween
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_7_2" type="checkbox" id="__nav_4_7_2" >
      
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4_7_2">
          Members
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Members" data-md-level="3">
        <label class="md-nav__title" for="__nav_4_7_2">
          <span class="md-nav__icon md-icon"></span>
          Members
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../api-reference/animation/members/tween/" class="md-nav__link">
        Tween
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../api-reference/animation/members/spring/" class="md-nav__link">
        Spring
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="https://elttob.itch.io/" class="md-nav__link">
        Made with&emsp13;&#x2764;&emsp13;by Studio Elttob
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#globals" class="md-nav__link">
    Globals
  </a>
  
    <nav class="md-nav" aria-label="Globals">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hidden-dependencies" class="md-nav__link">
    Hidden dependencies
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hard-to-locate-writes" class="md-nav__link">
    Hard-to-locate writes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memory-management" class="md-nav__link">
    Memory management
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#non-replaceable-for-testing" class="md-nav__link">
    Non-replaceable for testing
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#contextuals" class="md-nav__link">
    Contextuals
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                <!-- Edit button -->


<!--
  Hack: check whether the content contains a h1 headline. If it
  doesn't, the page title (or respectively site name) is used
  as the main headline.
-->

  <h1>Sharing Values</h1>


<!-- Markdown content -->
<p>Sometimes values are used in far-away parts of the codebase. For example, many
UI elements might share theme colours for light and dark theme.</p>
<hr />
<h2 id="globals">Globals<a class="headerlink" href="#globals" title="Permanent link">&para;</a></h2>
<p>Typically, values are shared by placing them in modules. These modules can be
required from anywhere in the codebase, and their values can be imported into
any code.</p>
<p>Values shared in this way are known as <em>globals</em>.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:2"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="__tabbed_1_1">Theme.luau</label><label for="__tabbed_1_2">Somewhere else</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span>
<span class="normal">9</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="kd">local</span> <span class="n">Theme</span> <span class="o">=</span> <span class="p">{}</span>

<span class="n">Theme</span><span class="p">.</span><span class="n">colours</span> <span class="o">=</span> <span class="p">{</span>
    <span class="n">background</span> <span class="o">=</span> <span class="n">Color3</span><span class="p">.</span><span class="n">fromHex</span><span class="p">(</span><span class="s2">&quot;FFFFFF&quot;</span><span class="p">),</span>
    <span class="n">text</span> <span class="o">=</span> <span class="n">Color3</span><span class="p">.</span><span class="n">fromHex</span><span class="p">(</span><span class="s2">&quot;222222&quot;</span><span class="p">),</span>
    <span class="c1">-- etc.</span>
<span class="p">}</span>

<span class="kr">return</span> <span class="n">Theme</span>
</code></pre></div></td></tr></table></div>
</div>
<div class="tabbed-block">
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="kd">local</span> <span class="n">Theme</span> <span class="o">=</span> <span class="nb">require</span><span class="p">(</span><span class="s2">&quot;path/to/Theme.luau&quot;</span><span class="p">)</span>

<span class="kd">local</span> <span class="n">textColour</span> <span class="o">=</span> <span class="n">Theme</span><span class="p">.</span><span class="n">colours</span><span class="p">.</span><span class="n">text</span>
<span class="nb">print</span><span class="p">(</span><span class="n">textColour</span><span class="p">)</span> <span class="c1">--&gt; 34, 34, 34</span>
</code></pre></div></td></tr></table></div>
</div>
</div>
</div>
<p>In particular, you can share state objects this way, and every part of the
codebase will be able to see and interact with those state objects.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="2:2"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio" /><input id="__tabbed_2_2" name="__tabbed_2" type="radio" /><div class="tabbed-labels"><label for="__tabbed_2_1">Theme.luau</label><label for="__tabbed_2_2">Somewhere else</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="kd">local</span> <span class="n">Fusion</span> <span class="o">=</span> <span class="nb">require</span><span class="p">(</span><span class="s2">&quot;path/to/Fusion.luau&quot;</span><span class="p">)</span>

<span class="kd">local</span> <span class="n">Theme</span> <span class="o">=</span> <span class="p">{}</span>

<span class="n">Theme</span><span class="p">.</span><span class="n">colours</span> <span class="o">=</span> <span class="p">{</span>
    <span class="n">background</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">light</span> <span class="o">=</span> <span class="n">Color3</span><span class="p">.</span><span class="n">fromHex</span><span class="p">(</span><span class="s2">&quot;FFFFFF&quot;</span><span class="p">),</span>
        <span class="n">dark</span> <span class="o">=</span> <span class="n">Color3</span><span class="p">.</span><span class="n">fromHex</span><span class="p">(</span><span class="s2">&quot;222222&quot;</span><span class="p">)</span>
    <span class="p">},</span>
    <span class="n">text</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">light</span> <span class="o">=</span> <span class="n">Color3</span><span class="p">.</span><span class="n">fromHex</span><span class="p">(</span><span class="s2">&quot;FFFFFF&quot;</span><span class="p">),</span>
        <span class="n">dark</span> <span class="o">=</span> <span class="n">Color3</span><span class="p">.</span><span class="n">fromHex</span><span class="p">(</span><span class="s2">&quot;222222&quot;</span><span class="p">)</span>
    <span class="p">},</span>
    <span class="c1">-- etc.</span>
<span class="p">}</span>

<span class="kr">function</span> <span class="nc">Theme</span><span class="p">.</span><span class="nf">init</span><span class="p">(</span>
    <span class="n">scope</span><span class="p">:</span> <span class="n">Fusion</span><span class="p">.</span><span class="n">Scope</span>
<span class="p">)</span>
    <span class="n">Theme</span><span class="p">.</span><span class="n">currentTheme</span> <span class="o">=</span> <span class="n">scope</span><span class="p">:</span><span class="n">Value</span><span class="p">(</span><span class="s2">&quot;light&quot;</span><span class="p">)</span>
<span class="kr">end</span>

<span class="kr">return</span> <span class="n">Theme</span>
</code></pre></div></td></tr></table></div>
</div>
<div class="tabbed-block">
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="kd">local</span> <span class="n">Fusion</span> <span class="o">=</span> <span class="nb">require</span><span class="p">(</span><span class="s2">&quot;path/to/Fusion.luau&quot;</span><span class="p">)</span>
<span class="kd">local</span> <span class="n">scoped</span><span class="p">,</span> <span class="n">peek</span> <span class="o">=</span> <span class="n">Fusion</span><span class="p">.</span><span class="n">scoped</span><span class="p">,</span> <span class="n">Fusion</span><span class="p">.</span><span class="n">peek</span>

<span class="kd">local</span> <span class="n">Theme</span> <span class="o">=</span> <span class="nb">require</span><span class="p">(</span><span class="s2">&quot;path/to/Theme.luau&quot;</span><span class="p">)</span>

<span class="kd">local</span> <span class="kr">function</span> <span class="nf">printTheme</span><span class="p">()</span>
    <span class="kd">local</span> <span class="n">theme</span> <span class="o">=</span> <span class="n">Theme</span><span class="p">.</span><span class="n">currentTheme</span>
    <span class="nb">print</span><span class="p">(</span>
        <span class="n">peek</span><span class="p">(</span><span class="n">theme</span><span class="p">),</span> 
        <span class="kr">if</span> <span class="n">typeof</span><span class="p">(</span><span class="n">theme</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;string&quot;</span> <span class="kr">then</span> <span class="s2">&quot;constant&quot;</span> <span class="kr">else</span> <span class="s2">&quot;state object&quot;</span>
    <span class="p">)</span>
<span class="kr">end</span>

<span class="kd">local</span> <span class="n">scope</span> <span class="o">=</span> <span class="n">scoped</span><span class="p">(</span><span class="n">Fusion</span><span class="p">)</span>
<span class="n">Theme</span><span class="p">.</span><span class="n">init</span><span class="p">(</span><span class="n">scope</span><span class="p">)</span>
<span class="n">printTheme</span><span class="p">()</span> <span class="c1">--&gt; light state object</span>

<span class="n">Theme</span><span class="p">.</span><span class="n">currentTheme</span><span class="p">:</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;dark&quot;</span><span class="p">)</span>
<span class="n">printTheme</span><span class="p">()</span> <span class="c1">--&gt; dark state object</span>
</code></pre></div></td></tr></table></div>
</div>
</div>
</div>
<p>Globals are very straightforward to implement and can be useful, but they can
quickly cause problems if not used carefully.</p>
<h3 id="hidden-dependencies">Hidden dependencies<a class="headerlink" href="#hidden-dependencies" title="Permanent link">&para;</a></h3>
<p>When you use a global inside a block of reusable code such as a component, you
are making your code dependent on another code file without declaring it to the
outside world.</p>
<p>To some extent, this is entirely why using globals is desirable. While it's more
'correct' to accept the <code>Theme</code> via the parameters of your function, it often
means the <code>Theme</code> has to be passed down through multiple layers of functions.
This is known as <a href="https://kentcdodds.com/blog/prop-drilling">prop drilling</a> and
is widely considered bad practice, because it clutters up unrelated code with
parameters that are only passed through functions.</p>
<p>To avoid prop drilling, globals are often used, which 'hides' the dependency on
that external code file. You no longer have to pass it down through parameters.
However, relying too heavily on these hidden dependencies can cause your code to
behave in surprising, unintuitive ways, or it can obscure what functionality is
available to developers using your code.</p>
<h3 id="hard-to-locate-writes">Hard-to-locate writes<a class="headerlink" href="#hard-to-locate-writes" title="Permanent link">&para;</a></h3>
<p>If you write into globals from deep inside your code base, it becomes very hard
to figure out where the global is being changed from, which significantly hurts
debugging.</p>
<p>Generally, it's best to treat globals as <em>read-only</em>. If you're writing to a
global, it should be coming from a single well-signposted, easy-to-find place.</p>
<p>You should also keep the principles of <a href="../callbacks">top-down control</a> in mind;
think of globals as 'flowing down' from the root of the program. Globals are
best managed from high up in the program, because they have widespread effects,
so consider using callbacks to pass control up the chain, rather than managing
globals directly from every part of the code base.</p>
<h3 id="memory-management">Memory management<a class="headerlink" href="#memory-management" title="Permanent link">&para;</a></h3>
<p>In addition, globals can complicate memory management. Because every part of
your code base can access them, you can't destroy globals until the very end of
your program.</p>
<p>In the above example, this is solved with an <code>init()</code> method which passes the
main scope to <code>Theme</code>. Because <code>init()</code> is called before anything else that uses
<code>Theme</code>, the objects that <code>Theme</code> creates will be added to the scope first.</p>
<p>When the main scope is cleaned up, <code>doCleanup()</code> will destroy things in reverse
order. This means the <code>Theme</code> objects will be cleaned up last, after everything
else in the program has been cleaned up.</p>
<p>This only works if you know that the main script is the only entry point in your
program. If you have two scripts running concurrently which try to <code>init()</code> the
<code>Theme</code> module, they will overwrite each other.</p>
<h3 id="non-replaceable-for-testing">Non-replaceable for testing<a class="headerlink" href="#non-replaceable-for-testing" title="Permanent link">&para;</a></h3>
<p>When your code uses a global, you're hard-coding a connection between your code
and that specific global.</p>
<p>This is problematic for testing; unless you're using an advanced testing
framework with code injection, it's pretty much impossible to separate your code
from that global code, which makes it impossible to replace global values for
testing purposes.</p>
<p>For example, if you wanted to write automated tests that verify light theme and
dark theme are correctly applied throughout your UI, you can't replace any
values stored in <code>Theme</code>.</p>
<p>You might be able to write to the <code>Theme</code> by going through the normal process,
but this fundamentally limits how you can test. For example, you couldn't run a
test for light theme and dark theme at the same time.</p>
<hr />
<h2 id="contextuals">Contextuals<a class="headerlink" href="#contextuals" title="Permanent link">&para;</a></h2>
<p>The main drawback of globals is that they hold one value for all code. To solve
this, Fusion introduces <em>contextual values</em>, which can be temporarily changed
for the duration of a code block.</p>
<p>To create a contextual, call the <code>Contextual</code> function from Fusion. It asks for
a default value.</p>
<div class="highlight"><pre><span></span><code><span class="kd">local</span> <span class="n">myContextual</span> <span class="o">=</span> <span class="n">Contextual</span><span class="p">(</span><span class="s2">&quot;foo&quot;</span><span class="p">)</span>
</code></pre></div>
<p>At any time, you can query its current value using the <code>:now()</code> method.</p>
<div class="highlight"><pre><span></span><code><span class="kd">local</span> <span class="n">myContextual</span> <span class="o">=</span> <span class="n">Contextual</span><span class="p">(</span><span class="s2">&quot;foo&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">myContextual</span><span class="p">:</span><span class="n">now</span><span class="p">())</span> <span class="c1">--&gt; foo</span>
</code></pre></div>
<p>You can override the value for a limited span of time using <code>:is():during()</code>.
Pass the temporary value to <code>:is()</code>, and pass a callback to <code>:during()</code>.</p>
<p>While the callback is running, the contextual will adopt the temporary value.</p>
<div class="highlight"><pre><span></span><code><span class="kd">local</span> <span class="n">myContextual</span> <span class="o">=</span> <span class="n">Contextual</span><span class="p">(</span><span class="s2">&quot;foo&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">myContextual</span><span class="p">:</span><span class="n">now</span><span class="p">())</span> <span class="c1">--&gt; foo</span>

<span class="n">myContextual</span><span class="p">:</span><span class="n">is</span><span class="p">(</span><span class="s2">&quot;bar&quot;</span><span class="p">):</span><span class="n">during</span><span class="p">(</span><span class="kr">function</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">myContextual</span><span class="p">:</span><span class="n">now</span><span class="p">())</span> <span class="c1">--&gt; bar</span>
<span class="kr">end</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">myContextual</span><span class="p">:</span><span class="n">now</span><span class="p">())</span> <span class="c1">--&gt; foo</span>
</code></pre></div>
<p>By storing widely-used values inside contextuals, you can isolate different
code paths from each other, while retaining the easy, hidden referencing that
globals offer. This makes testing and memory management significantly easier,
and helps you locate which code is modifying any shared values.</p>
<p>To demonstrate, the <code>Theme</code> example can be rewritten to use contextuals.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="3:2"><input checked="checked" id="__tabbed_3_1" name="__tabbed_3" type="radio" /><input id="__tabbed_3_2" name="__tabbed_3" type="radio" /><div class="tabbed-labels"><label for="__tabbed_3_1">Theme.luau</label><label for="__tabbed_3_2">Somewhere else</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="kd">local</span> <span class="n">Fusion</span> <span class="o">=</span> <span class="nb">require</span><span class="p">(</span><span class="s2">&quot;path/to/Fusion.luau&quot;</span><span class="p">)</span>
<span class="kd">local</span> <span class="n">Contextual</span> <span class="o">=</span> <span class="n">Fusion</span><span class="p">.</span><span class="n">Contextual</span>

<span class="kd">local</span> <span class="n">Theme</span> <span class="o">=</span> <span class="p">{}</span>

<span class="n">Theme</span><span class="p">.</span><span class="n">colours</span> <span class="o">=</span> <span class="p">{</span>
    <span class="n">background</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">light</span> <span class="o">=</span> <span class="n">Color3</span><span class="p">.</span><span class="n">fromHex</span><span class="p">(</span><span class="s2">&quot;FFFFFF&quot;</span><span class="p">),</span>
        <span class="n">dark</span> <span class="o">=</span> <span class="n">Color3</span><span class="p">.</span><span class="n">fromHex</span><span class="p">(</span><span class="s2">&quot;222222&quot;</span><span class="p">)</span>
    <span class="p">},</span>
    <span class="n">text</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">light</span> <span class="o">=</span> <span class="n">Color3</span><span class="p">.</span><span class="n">fromHex</span><span class="p">(</span><span class="s2">&quot;FFFFFF&quot;</span><span class="p">),</span>
        <span class="n">dark</span> <span class="o">=</span> <span class="n">Color3</span><span class="p">.</span><span class="n">fromHex</span><span class="p">(</span><span class="s2">&quot;222222&quot;</span><span class="p">)</span>
    <span class="p">},</span>
    <span class="c1">-- etc.</span>
<span class="p">}</span>

<span class="n">Theme</span><span class="p">.</span><span class="n">currentTheme</span> <span class="o">=</span> <span class="n">Contextual</span><span class="p">(</span><span class="s2">&quot;light&quot;</span><span class="p">)</span>

<span class="kr">return</span> <span class="n">Theme</span>
</code></pre></div></td></tr></table></div>
</div>
<div class="tabbed-block">
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="kd">local</span> <span class="n">Fusion</span> <span class="o">=</span> <span class="nb">require</span><span class="p">(</span><span class="s2">&quot;path/to/Fusion.luau&quot;</span><span class="p">)</span>
<span class="kd">local</span> <span class="n">scoped</span><span class="p">,</span> <span class="n">peek</span> <span class="o">=</span> <span class="n">Fusion</span><span class="p">.</span><span class="n">scoped</span><span class="p">,</span> <span class="n">Fusion</span><span class="p">.</span><span class="n">peek</span>

<span class="kd">local</span> <span class="n">Theme</span> <span class="o">=</span> <span class="nb">require</span><span class="p">(</span><span class="s2">&quot;path/to/Theme.luau&quot;</span><span class="p">)</span>

<span class="kd">local</span> <span class="kr">function</span> <span class="nf">printTheme</span><span class="p">()</span>
    <span class="kd">local</span> <span class="n">theme</span> <span class="o">=</span> <span class="n">Theme</span><span class="p">.</span><span class="n">currentTheme</span><span class="p">:</span><span class="n">now</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span>
        <span class="n">peek</span><span class="p">(</span><span class="n">theme</span><span class="p">),</span> 
        <span class="kr">if</span> <span class="n">typeof</span><span class="p">(</span><span class="n">theme</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;string&quot;</span> <span class="kr">then</span> <span class="s2">&quot;constant&quot;</span> <span class="kr">else</span> <span class="s2">&quot;state object&quot;</span>
    <span class="p">)</span>
<span class="kr">end</span>

<span class="n">printTheme</span><span class="p">()</span> <span class="c1">--&gt; light constant</span>

<span class="kd">local</span> <span class="n">scope</span> <span class="o">=</span> <span class="n">scoped</span><span class="p">(</span><span class="n">Fusion</span><span class="p">)</span>
<span class="kd">local</span> <span class="n">override</span> <span class="o">=</span> <span class="n">scope</span><span class="p">:</span><span class="n">Value</span><span class="p">(</span><span class="s2">&quot;light&quot;</span><span class="p">)</span>
<span class="n">Theme</span><span class="p">.</span><span class="n">currentTheme</span><span class="p">:</span><span class="n">is</span><span class="p">(</span><span class="n">override</span><span class="p">):</span><span class="n">during</span><span class="p">(</span><span class="kr">function</span><span class="p">()</span>
    <span class="n">printTheme</span><span class="p">()</span>  <span class="c1">--&gt; light state object</span>
    <span class="n">override</span><span class="p">:</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;dark&quot;</span><span class="p">)</span>
    <span class="n">printTheme</span><span class="p">()</span> <span class="c1">--&gt; dark state object</span>
<span class="kr">end</span><span class="p">)</span>

<span class="n">printTheme</span><span class="p">()</span> <span class="c1">--&gt; light constant</span>
</code></pre></div></td></tr></table></div>
</div>
</div>
</div>
<p>In this rewritten example, <code>Theme</code> no longer requires an <code>init()</code> function,
because - instead of defining a state object globally - <code>Theme</code> only defines
<code>"light"</code> as the default value.</p>
<p>You're expected to replace the default value with a state object when you want
to make the theme dynamic. This has a number of benefits:</p>
<ul>
<li>
<p>Because the override is time-limited to one span of your code, you can have
multiple scripts running at the same time with completely different overrides.</p>
</li>
<li>
<p>It also explicitly places your code in charge of memory management, because
you're creating the object yourself.</p>
</li>
<li>
<p>It's easy to locate where changes are coming from, because you can look for
the nearest <code>:is():during()</code> call. Optionally, you could share a limited, 
read-only version of the value, while retaining private access to write to the 
value wherever you're overriding the contextual from.</p>
</li>
<li>
<p>Testing becomes much simpler; you can override the contextual for different
parts of your testing, without ever having to inject code, and without altering
how you read and override the contextual in your production code.</p>
</li>
</ul>
<p>It's still possible to run into issues with contextuals, though.</p>
<ul>
<li>You're still hiding a dependency of your code, which can still lead to
confusion and obscuring available features, just the same as globals.</li>
<li>Unlike globals, contextuals are time-limited. If you connect to an event or 
start a delayed task, you won't be able to access the value anymore. Instead,
capture the value at the start of the code block, so you can use it in delayed
tasks.</li>
</ul>

<!-- Source file information -->

              
            </article>
          </div>
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" data-md-state="hidden">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </a>
        
      </main>
      
        <!-- Footer -->
<footer class="md-footer">

	<!-- Link to previous and/or next page -->
	
	  <nav
		class="md-footer__inner md-grid"
		aria-label="Footer"
	  >

		<!-- Link to previous page -->
		
		  
		  <a
			href="../state/"
			class="md-footer__link md-footer__link--prev"
			aria-label="Previous: State"
			rel="prev"
		  >
			<div class="md-footer__button md-icon">
			  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M15.28 5.22a.75.75 0 0 0-1.06 0l-6.25 6.25a.75.75 0 0 0 0 1.06l6.25 6.25a.75.75 0 1 0 1.06-1.06L9.56 12l5.72-5.72a.75.75 0 0 0 0-1.06z"/></svg>
			</div>
			<div class="md-footer__title">
			  <div class="md-ellipsis">
				<span class="md-footer__direction">
				  Previous
				</span>
				State
			  </div>
			</div>
		  </a>
		

		<!-- Link to next page -->
		
		  
		  <a
			href="../error-safety/"
			class="md-footer__link md-footer__link--next"
			aria-label="Next: Error Safety"
			rel="next"
		  >
			<div class="md-footer__title">
			  <div class="md-ellipsis">
				<span class="md-footer__direction">
				  Next
				</span>
				Error Safety
			  </div>
			</div>
			<div class="md-footer__button md-icon">
			  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M8.72 18.78a.75.75 0 0 0 1.06 0l6.25-6.25a.75.75 0 0 0 0-1.06L9.78 5.22a.75.75 0 0 0-1.06 1.06L14.44 12l-5.72 5.72a.75.75 0 0 0 0 1.06z"/></svg>
			</div>
		  </a>
		
	  </nav>
	

	<!-- Further information -->
	<div class="md-footer-meta md-typeset">
	  <div class="md-footer-meta__inner md-grid">
		<div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>

		<!-- Social links -->
		
	  </div>
	</div>
  </footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.tabs", "navigation.top", "navigation.sections", "navigation.instant", "navigation.indexes", "search.suggest", "search.highlight"], "search": "../../../assets/javascripts/workers/search.2a1c317c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.ed9748b7.min.js"></script>
      
        <script src="../../../assets/scripts/smooth-scroll.js"></script>
      
    
  </body>
</html>